<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TeleTV</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
</head>
<body>
    <div id="app">
        <!-- CONFIG (Centr√©) -->
        <section id="config-screen" class="screen active">
            <div class="center-box">
                <h1>Configuration</h1>
                <input type="text" id="api-id" placeholder="API ID (ex: 12345)" tabindex="0">
                <input type="text" id="api-hash" placeholder="API Hash" tabindex="0">
                <button id="save-config-btn" tabindex="0">Connexion</button>
            </div>
        </section>

        <!-- AUTH QR (Centr√©) -->
        <section id="auth-screen" class="screen hidden">
            <div class="center-box" style="align-items: center;">
                <h1>Scanner le QR</h1>
                <div id="qrcode" style="background: white; padding: 10px;"></div>
                <div id="qr-status" style="color:#aaa;">G√©n√©ration...</div>
                <button id="btn-cancel-auth" tabindex="0">Annuler</button>
            </div>
        </section>

        <!-- CANAUX -->
        <section id="channels-screen" class="screen hidden">
            <div class="toolbar">
                <button id="btn-search-nav" tabindex="0">üîç Recherche</button>
                <button id="btn-reload" tabindex="0">Actualiser</button>
                <button id="btn-clear-cache" tabindex="0">Vider Cache</button>
                <button id="btn-logout" tabindex="0">D√©connexion</button>
                <div id="disk-usage" style="margin-left:auto; font-size:0.8rem; color:#888; align-self:center;"></div>
            </div>
            <h2 style="margin-bottom: 1rem;">Vos Canaux</h2>
            <div id="channels-grid" class="grid"></div>
        </section>

        <!-- RECHERCHE AM√âLIOR√âE -->
        <section id="search-screen" class="screen hidden">
            <h2 style="margin-bottom:1.5rem; text-align:center;">Recherche Globale</h2>
            <div class="search-toolbar">
                <input type="text" id="search-input" placeholder="Titre, cha√Æne ou mot-cl√©..." tabindex="0">
                <button id="btn-do-search" tabindex="0">GO</button>
            </div>
            <div id="search-results" class="grid"></div>
        </section>

        <!-- VIDEOS -->
        <section id="videos-screen" class="screen hidden">
            <h2 id="channel-title" style="margin-bottom:1rem;">Vid√©os</h2>
            <div id="videos-grid" class="grid"></div>
        </section>

        <!-- PLAYER -->
        <section id="player-screen" class="screen hidden">
            <video id="main-player" controls style="width:100%; height:100%;"></video>
            <div id="video-loader" class="hidden">
                <h2 id="loader-text">Chargement...</h2>
                <div class="progress-container"><div id="loader-bar" class="progress-bar"></div></div>
                <button id="btn-cancel-load" tabindex="0">Annuler</button>
            </div>
        </section>
        
        <div id="status" style="position:fixed; bottom:20px; left:20px; background:#333; padding:10px; border-radius:5px; display:none; z-index:9999;"></div>
    </div>
    <script type="module" src="app.js"></script>
</body>
</html>
